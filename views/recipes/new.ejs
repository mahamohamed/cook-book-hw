<body>
  <%- include('../partials/_navbar.ejs') %>

  <h1>Add a New Recipe</h1>

  <form method="POST" action="/recipes">
    <label for="name">Recipe Name:</label>
    <input type="text" name="name" id="name" required />
    <br />

    <label for="instructions">Instructions:</label>
    <input name="instructions" id="instructions"  required></input>
    <br />

    <label for="ingredients">Ingredients:</label>
    <div id="ingredients">
      <% if (ingredients && ingredients.length > 0) { %>
        <% ingredients.forEach((ingredient) => { %>
          <div>
            <input
              type="checkbox"
              name="ingredients[]"
              id="ingredient-<%= ingredient._id %>"
              value="<%= ingredient._id %>"
            />
            <label for="ingredient-<%= ingredient._id %>">
              <%= ingredient.name %>
            </label>
          </div>
        <% }); %>
      <% } else { %>
        <p>No ingredients available. Please add some first.</p>
      <% } %>
    </div>
    <br />

    <button type="submit">Add Recipe</button>
  </form>
</body>
